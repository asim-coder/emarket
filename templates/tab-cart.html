<ion-view title="My Cart">
  <ion-content>
    <ion-list>
    <diva ng-hide="cart.getTotalCount() > 0" ><br>
        <h3 class = "energized text-center">
            Your cart is empty.
        </h3>
    </diva>

      <ion-item ng-repeat="item in cart.items" type="item-text-wrap" class="list">
            <div class="item item-thumbnail-left" href="#">
              <img src="{{item.pic}}.jpg">
              <h2>{{item.name}}</h2>
              <p>
                <input
                    class="span3 text-center" type="tel" 
                    ng-model="item.quantity" 
                    ng-change="cart.saveItems()" />
                <button 
                    class="button button-balanced" type="button" 
                    ng-disabled="item.quantity >= 1000"
                    ng-click="cart.addItem(item.id, item.name, item.price, +1)">+</button>
                <button 
                    class="button button-assertive" type="button" 
                    ng-disabled="item.quantity <= 1"
                    ng-click="cart.addItem(item.id, item.name, item.price, -1)">-</button>
              </p>
            </div>
        
        
        {{item.price * item.quantity | currency  : "&#8377;"}}
        <a href="" ng-click="cart.addItem(item.id, item.name, item.price, -1000)" >
                Remove Item
        </a>
      </ion-item>
      Total : 
          <b>{{cart.getTotalCount()}}</b>
          <b>{{cart.getTotalPrice() | currency : "&#8377;"}}
    </ion-list>

    <a class="button button-block button-balanced" ng-disabled="cart.getTotalCount() < 1">
      Place Order {{cart.getTotalCount()}}
    </a>
    <a 
        class="button button-block button-assertive" 
        ng-click="cart.clearItems()" 
         > <!-- ng-disabled="cart.getTotalCount() < 1"  add after -->
        <i class="icon-trash icon-white" /> Clear cart
    </a>
    <a 
        class="button button-block button-stable" 
        onclick="window.location.href='#/tab/dash'">
        <i class="icon-chevron-left" /> Continue shopping
    </a>
  </ion-content>
</ion-view>
